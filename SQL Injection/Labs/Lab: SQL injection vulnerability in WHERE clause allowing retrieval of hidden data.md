# Problem Statement
This lab contains a SQL injection vulnerability in the product category filter. When the user selects a category, the application carries out a SQL query like the following: 
```
SELECT * FROM products WHERE category = 'Gifts' AND released = 1
```
To solve the lab, perform a SQL injection attack that causes the application to display one or more unreleased products. 
# Solution
Due to knowing the exact query carried out by the SQL database, this lab is fairly straightforward. In Structured Query Language (SQL), the single quote ' indicates the beginning or end of a string. Comments in SQL are usually implemented either as a double-dash sequence -- or as a pound sign / hashtag #. The <i>injection point</i> of a query is the portion of the query of that an attacker, in this case, me or you, controls. For this lab, the injection point occurs in the string relating to a category of product. The goal is to make the application show us unreleased products. We can use the single quote ' as a string terminator and a comment to remove the AND clause restricting our query. 

As a general rule, it is good to observe what <i>normal</i> application behavior looks like in your proxy as well as in the browser. So first things first, let's take a look at at the application, follow some of the intended functionality, and see what we're working with. The image below shows us the home page of the application, and a menu with some options for the product category filter. Additionally, we can see some products. Assuming the application functions according to the query from the problem stateement, we can infer that these products are all released. Click on one of the category filters, like "Gifts", and see what happens. 

![image](https://github.com/tatruesdell/WebSecurityAcademy/assets/43506369/351fff6d-3901-49c5-96dd-433ea1c3ba34)

As you can see, we land on a similar page showing products, however there is a notable difference. If you look at the URL, you will notice that the browser is now on a page called "filter" and the URL includes a parameter called "category" with a value equal to your selected category. Knowing that this is the injection point referred to in the problem statement, we can try some different inputs and observe how they affect the application. 

![image](https://github.com/tatruesdell/WebSecurityAcademy/assets/43506369/61d2c4c8-91ef-4297-88d3-3158f419343d)

The first input we'll try is a single quote, to see what kind of response we get from the application. In this case, let's anticipate an error from the database. 

![image](https://github.com/tatruesdell/WebSecurityAcademy/assets/43506369/419030fc-f2f3-4a21-b483-44a8a428d125)

As shown above, we receive an error from the application. For a SQL injection attack to be successful, the resulting query must have <i>valid syntax</i>. Let's add a comment to the end of the query to remove the trailing single quote. The resulting query will look like this:

'''
SELECT * FROM products WHERE category = 'Gifts'--' AND released = 1
'''

Where every character after the double-dash sequence is treated as a comment, i.e., not part of the actual query. With the exclusion of the AND clause, the application should show some "unreleased" products, solving the lab. 

